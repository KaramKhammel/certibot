<!DOCTYPE html>
<html>
<head>
    <title>CertiBot</title>
</head>
<body>
    <h2>CertiBot</h2>
    <input type="text" id="user_input" placeholder="Type something...">
    <button onclick="sendMessage()">Send</button>
    <div id="chatbox"></div>

    <script>
        function sendMessage() {
            var userInput = document.getElementById('user_input').value;
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "/get_response", true);
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            xhr.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    // Adjusting here to handle the JSON response
                    var response = JSON.parse(this.responseText).response;
                    var chatbox = document.getElementById('chatbox');
                    chatbox.innerHTML += '<p><strong>You:</strong> ' + userInput + '</p>';
                    chatbox.innerHTML += '<p><strong>AI:</strong> ' + response + '</p>';
                }
            };
            xhr.send('user_input=' + encodeURIComponent(userInput));
        }
    </script>

    </script>
</body>
</html>

